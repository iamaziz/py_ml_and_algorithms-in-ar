<div dir="rtl" lang="ar">
<meta charset="utf-8">

# التلاعب في البتات "معالجة البتات"


في بعض الحالات نستطيع تصميم خوارزميات تتعامل مع البيانات في صيغتها الأولية، يعني الأصفار و الواحدات. المصطلح الإنجليزي لهذا النوع من الخوارزميات هو Bit manipulation. في الغالب، تستخدم مع الأرقام.


مثال:

عادة في البرمجة تكون الأرقام مخزنة في بتتات أو مايسمى [نظام "البت" الثنائي](https://ar.wikipedia.org/wiki/%D9%86%D8%B8%D8%A7%D9%85_%D8%B9%D8%AF_%D8%AB%D9%86%D8%A7%D8%A6%D9%8A). مثلاً الرقم **12** يتم تمثيله في نظام العد الثنائي كما يلي:



**`1100`**

واللي كما نعرف يتم تحويله (يدوياً) بشكل معاكس للنظام العشري (الأعداد
العادية) كما يلي

`(2^0 * 0) + (2^1 * 0) + (2^2 * 1) + (2^3 * 1)` = 0 + 0 + 4 + 8 = 12

<hr>

كل لغة برمجة تحتوي على دوال برمجية جاهزة للتحويل من نظام عد إلى آخر. مثلاً، من ثنائي إلى عشري والعكس، أو من ثنائي إلى ست عشري و هكذا.

في بايثون هناك اكثر من طريقة

</div>

```python
>>> # من عشري إلى ثنائي
>>> f'{12:02b}'
'1100'
>>> # من ثنائي إلى عشري
>>> int('1100', base=2)
12
```

<div dir="rtl" lang="ar">

عموماً، بما أن هدفنا هنا هو معرفة كيف نتلاعب في ترتيب البتات من أجل حل مشكلة ما، لازم نعرف ماهي عمليات الإزاحة المتاحة في بايثون. الإزاحة تعني تحريك من موقع إلى آخر، مثلاً نزيح البتات إلى اليسار بمقدار بت واحد أو إلى اليمين بمقدار ثلاث بتتات وهكذا.

تسمى هذه العمليات بالإنجليزي [Bitwise operators](https://wiki.python.org/moin/BitwiseOperators)


هناك ستة عمليات إزاحة، كما يلي:

</div>


```python
# إزاحة إلى اليسار
x << y
# وتعني قم بإزاحة بتات الرقم "إكس" الى اليسار بمقدار "واي" خانة

# إزاحة إلى اليمين
x >> y
# وتعني قم بإزاحة بتات الرقم "إكس" الى اليمين بمقدار "واي" خانة


# عملية "الجمع" المنطقية
x & y
# وتعني قم بجمع البتات المتوازية في كلاً من اكس و واي


# عملية "أو" المنطقية
x | y



# عملية النفي المنطقية
~x



# عملية "أو" الحصرية
x ^ y



```

<div dir="rtl" lang="ar">
هنا مثال توضيحي، إزاحة إلى اليسار
</div>

```python
# لكل رقم من الإرقام واحد إلى تسعة، إعمل
# إزاحة بمقدار بت واحد إلى اليسار
>>> for i in range(1, 10):
...     print(f'{i:06b}  {i} << 1  = {i<<1:02}  {i<<1:06b}')

000001  1 << 1  = 02  000010
000010  2 << 1  = 04  000100
000011  3 << 1  = 06  000110
000100  4 << 1  = 08  001000
000101  5 << 1  = 10  001010
000110  6 << 1  = 12  001100
000111  7 << 1  = 14  001110
001000  8 << 1  = 16  010000
001001  9 << 1  = 18  010010
```

<div dir="rtl" lang="ar">
مثال آخر، إزاحة الى اليمين
</div>

```python

# لكل رقم من الإرقام واحد إلى تسعة، إعمل
# إزاحة بمقدار بت واحد إلى اليمين
>>> for i in range(1, 10):
...     print(f'{i:06b}  {i} >> 1  = {i>>1:02}  {i>>1:06b}')

000001  1 >> 1  = 00  000000
000010  2 >> 1  = 01  000001
000011  3 >> 1  = 01  000001
000100  4 >> 1  = 02  000010
000101  5 >> 1  = 02  000010
000110  6 >> 1  = 03  000011
000111  7 >> 1  = 03  000011
001000  8 >> 1  = 04  000100
001001  9 >> 1  = 04  000100
```


### Bit shifting IDEA

```python
1 << 1 == 1 * 2
1 << 2 == (1 * 2) * 2
1 << 3 == ((1 * 2) * 2) * 2
1 << 4 == (((1 * 2) * 2) * 2) * 2
...
```
